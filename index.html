<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas Credit Union Assistant</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f9f9f9;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 1000px;
            margin: 20px;
        }

        .accounts-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
        }

        .account-card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            padding: 15px;
            flex: 1;
            min-width: 200px;
        }

        .account-card h3 {
            color: #1a76d2;
            margin-top: 0;
            font-size: 18px;
        }

        .balance {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }

        .details {
            color: #666;
            font-size: 14px;
        }

        .chat-container {
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .chat-header {
            background-color: #1a76d2;
            color: white;
            padding: 15px 20px;
        }

        .chat-header h2 {
            margin: 0;
            font-size: 20px;
        }

        .chat-messages {
            height: 400px;
            background-color: white;
            overflow-y: auto;
            padding: 20px;
        }

        .message {
            margin-bottom: 15px;
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 18px;
        }

        .user-message {
            background-color: #1a76d2;
            color: white;
            margin-left: auto;
            border-bottom-right-radius: 5px;
        }

        .bot-message {
            background-color: #f1f1f1;
            color: #333;
            margin-right: auto;
            border-bottom-left-radius: 5px;
        }

        .suggestion-chips {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }

        .chip {
            background-color: #e0e0e0;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .chip:hover {
            background-color: #d0d0d0;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            background-color: #f1f1f1;
            border-top: 1px solid #ddd;
        }

        #message-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 15px;
        }

        #send-button {
            background-color: #1a76d2;
            color: white;
            border: none;
            border-radius: 20px;
            padding: 10px 20px;
            margin-left: 10px;
            cursor: pointer;
            font-weight: bold;
        }

        #send-button:hover {
            background-color: #0d5cad;
        }

        .system-message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            font-size: 14px;
            background-color: #e8f5e9;
            border: 1px solid #c8e6c9;
            color: #2e7d32;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Account summary -->
        <div class="accounts-container">
            <div class="account-card">
                <h3>Checking Account</h3>
                <div class="balance">$2,345.82</div>
                <div class="details">Last transaction: 05/06/2025</div>
            </div>
            
            <div class="account-card">
                <h3>Savings Account</h3>
                <div class="balance">$5,120.50</div>
                <div class="details">Interest earned: $2.15</div>
            </div>
            
            <div class="account-card">
                <h3>Auto Loan</h3>
                <div class="balance">$12,489.65</div>
                <div class="details">Next payment: 05/15/2025</div>
            </div>
        </div>
        
        <!-- Chat interface -->
        <div class="chat-container">
            <div class="chat-header">
                <h2>Canvas Credit Union Assistant</h2>
            </div>
            
            <div class="chat-messages" id="chat-messages">
                <!-- Messages will be added here dynamically -->
            </div>
            
            <div class="chat-input">
                <input type="text" id="message-input" placeholder="Type your message...">
                <button id="send-button">Send</button>
            </div>
        </div>
    </div>

    <script>
        // User account data
        const userData = {
            name: "Alex Johnson",
            accounts: {
                checking: {
                    balance: 2345.82,
                    lastTransaction: "05/06/2025",
                    transactions: [
                        { date: "05/06/2025", description: "GROCERY STORE", amount: -78.34 },
                        { date: "05/05/2025", description: "PSP*PAY", amount: -42.00 },
                        { date: "05/03/2025", description: "DEPOSIT", amount: 1850.00 },
                        { date: "05/01/2025", description: "ELECTRIC COMPANY", amount: -142.56 }
                    ]
                },
                savings: {
                    balance: 5120.50,
                    interestRate: 1.25,
                    interestEarned: 2.15
                },
                autoLoan: {
                    balance: 12489.65,
                    rate: 5.25,
                    paymentAmount: 375.42,
                    nextPaymentDate: "05/15/2025",
                    remainingPayments: 18
                }
            },
            creditScore: {
                current: 730,
                previous: 742,
                factors: ["Recent credit application", "Increased credit utilization"]
            }
        };

        // DOM elements
        const chatMessages = document.getElementById('chat-messages');
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');

        // Common suggestion chips
        const commonChips = [
            { label: 'Check my balance', message: 'Check my balance' },
            { label: 'Credit score', message: 'Why did my credit score change?' },
            { label: 'Saving tips', message: 'How can I save more?' },
            { label: 'Loan options', message: 'Help with loan options' }
        ];

        // Initialize chat
        document.addEventListener('DOMContentLoaded', function() {
            // Add initial bot message
            addBotMessage("Hi there! I'm your Canvas Credit Union assistant. How can I help you today?");
            
            // Add event listeners
            sendButton.addEventListener('click', sendMessage);
            messageInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        });

        // Function to send user message
        function sendMessage() {
            const message = messageInput.value.trim();
            if (message) {
                // Add user message to chat
                addUserMessage(message);
                
                // Clear input field
                messageInput.value = '';
                
                // Process the message and get response
                generateResponse(message);
            }
        }

        // Function to add user message to chat
        function addUserMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'message user-message';
            messageElement.textContent = message;
            chatMessages.appendChild(messageElement);
            scrollToBottom();
        }

        // Function to add bot message to chat
        function addBotMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'message bot-message';
            messageElement.innerHTML = message;
            
            // Add suggestion chips based on context
            const lowerMessage = message.toLowerCase();
            let chips = commonChips;
            
            if (lowerMessage.includes('balance') || lowerMessage.includes('account')) {
                chips = [
                    { label: 'Checking details', message: 'Tell me about my checking account' },
                    { label: 'Savings details', message: 'Tell me about my savings account' },
                    { label: 'Loan details', message: 'Tell me about my auto loan' }
                ];
            } else if (lowerMessage.includes('credit score')) {
                chips = [
                    { label: 'Improve my score', message: 'How can I improve my credit score?' },
                    { label: 'Credit report', message: 'How do I get my credit report?' },
                    { label: 'Score factors', message: 'What factors affect my credit score?' }
                ];
            } else if (lowerMessage.includes('save') || lowerMessage.includes('saving')) {
                chips = [
                    { label: 'Round-Up Savings', message: 'Tell me more about Round-Up Savings' },
                    { label: 'Weekly Transfers', message: 'Tell me about automatic transfers' },
                    { label: 'Savings Goals', message: 'How can I set up savings goals?' }
                ];
            } else if (lowerMessage.includes('loan') || lowerMessage.includes('auto loan')) {
                chips = [
                    { label: 'Extra payments', message: 'How do extra payments help?' },
                    { label: 'Refinance options', message: 'Tell me about refinancing' },
                    { label: 'Payoff date', message: 'When will my loan be paid off?' }
                ];
            }
            
            // Add suggestion chips to the message
            const suggestionsDiv = document.createElement('div');
            suggestionsDiv.className = 'suggestion-chips';
            
            chips.forEach(chip => {
                const chipElement = document.createElement('div');
                chipElement.className = 'chip';
                chipElement.textContent = chip.label;
                chipElement.addEventListener('click', function() {
                    addUserMessage(chip.message);
                    generateResponse(chip.message);
                });
                suggestionsDiv.appendChild(chipElement);
            });
            
            messageElement.appendChild(suggestionsDiv);
            chatMessages.appendChild(messageElement);
            scrollToBottom();
        }

        // Function to generate a response based on user query
        function generateResponse(userMessage) {
            // Show typing indicator
            showTypingIndicator();
            
            // Convert to lowercase for easier matching
            const lowerMessage = userMessage.toLowerCase();
            
            // Simulate delay for more natural feel
            setTimeout(() => {
                // Remove typing indicator
                removeTypingIndicator();
                
                // Generate response based on message content
                let response = '';
                
                if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage === 'hey') {
                    response = `Hello ${userData.name}! How can I assist you with your accounts today?`;
                }
                else if (lowerMessage.includes('balance') || lowerMessage.includes('check') || lowerMessage.includes('account')) {
                    if (lowerMessage.includes('checking')) {
                        response = `Your checking account balance is <strong>$${userData.accounts.checking.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong>.<br><br>
                            Your last transaction was on ${userData.accounts.checking.lastTransaction}.<br><br>
                            Recent transactions:<br>
                            - ${userData.accounts.checking.transactions[0].date}: ${userData.accounts.checking.transactions[0].description} ($${userData.accounts.checking.transactions[0].amount})<br>
                            - ${userData.accounts.checking.transactions[1].date}: ${userData.accounts.checking.transactions[1].description} ($${userData.accounts.checking.transactions[1].amount})`;
                    }
                    else if (lowerMessage.includes('savings')) {
                        response = `Your savings account balance is <strong>$${userData.accounts.savings.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong>.<br><br>
                            Your account earns ${userData.accounts.savings.interestRate}% APY.<br>
                            Interest earned this month: $${userData.accounts.savings.interestEarned}`;
                    }
                    else if (lowerMessage.includes('loan') || lowerMessage.includes('auto')) {
                        response = `Your auto loan balance is <strong>$${userData.accounts.autoLoan.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}</strong>.<br><br>
                            Your current rate is ${userData.accounts.autoLoan.rate}%.<br>
                            Next payment of $${userData.accounts.autoLoan.paymentAmount} is due on ${userData.accounts.autoLoan.nextPaymentDate}.<br>
                            You have ${userData.accounts.autoLoan.remainingPayments} payments remaining.`;
                    }
                    else {
                        response = `Here's a summary of your accounts:<br><br>
                            <strong>Checking:</strong> $${userData.accounts.checking.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
                            <strong>Savings:</strong> $${userData.accounts.savings.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
                            <strong>Auto Loan:</strong> $${userData.accounts.autoLoan.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
                    }
                }
                else if (lowerMessage.includes('credit score') || (lowerMessage.includes('credit') && lowerMessage.includes('score'))) {
                    response = `Your current credit score is <strong>${userData.creditScore.current}</strong>, which decreased from ${userData.creditScore.previous} last month.<br><br>
                        This change appears to be due to:<br>
                        - ${userData.creditScore.factors[0]}<br>
                        - ${userData.creditScore.factors[1]}<br><br>
                        To improve your score, consider paying down your credit card balances and avoiding new credit applications in the next few months.`;
                }
                else if (lowerMessage.includes('save') || lowerMessage.includes('saving')) {
                    if (lowerMessage.includes('round-up')) {
                        response = `Round-Up Savings automatically rounds up your debit card purchases to the nearest dollar and transfers the difference to your savings account.<br><br>
                            For example, if you spend $3.50 on coffee, we'll round up to $4.00 and transfer $0.50 to savings. Based on your spending habits, this could help you save an additional $45-60 per month without changing your routine.`;
                    }
                    else if (lowerMessage.includes('weekly') || lowerMessage.includes('automatic') || lowerMessage.includes('transfer')) {
                        response = `Automatic transfers are a great way to build savings consistently.<br><br>
                            Based on your income and expenses, I recommend setting up a weekly transfer of $40 from checking to savings every Friday, after your paycheck is deposited but before weekend spending typically occurs.<br><br>
                            Would you like me to help you set up these automatic transfers?`;
                    }
                    else if (lowerMessage.includes('goal')) {
                        response = `Setting up savings goals helps you stay motivated and track progress.<br><br>
                            Based on your current savings rate, you could reach a $10,000 emergency fund goal in about 12 months with regular $400 monthly contributions.<br><br>
                            Our mobile app lets you create visual savings goals with target dates, automatic contributions, and progress tracking.`;
                    }
                    else {
                        response = `Looking at your spending patterns, I've identified some opportunities to help you save consistently:<br><br>
                            1. <strong>Automatic Micro-Saving:</strong> Round-Up Savings would save about $45-60/month by rounding up purchases.<br><br>
                            2. <strong>Smart Scheduled Saving:</strong> Automatic weekly transfers of $40 after your paycheck deposits but before weekend spending.<br><br>
                            3. <strong>Reduce Recurring Expenses:</strong> I noticed several subscription services totaling $37.98/month that could be consolidated.`;
                    }
                }
                else if (lowerMessage.includes('loan') || lowerMessage.includes('auto')) {
                    if (lowerMessage.includes('extra') || lowerMessage.includes('payment')) {
                        response = `Making extra payments on your auto loan can save you money on interest and help you pay off your loan sooner.<br><br>
                            If you make an additional payment of $100 each month toward your auto loan:<br>
                            - You'll pay off your loan about 4 months earlier<br>
                            - You'll save approximately $304 in interest<br><br>
                            Extra payments are applied directly to the principal, reducing the amount of interest you pay over the life of the loan.`;
                    }
                    else if (lowerMessage.includes('refinance')) {
                        response = `Based on your current credit score of ${userData.creditScore.current} and market conditions, you might qualify for refinancing your auto loan at a lower rate.<br><br>
                            Your current rate is ${userData.accounts.autoLoan.rate}%. If you refinance to a rate of 4.25% while keeping the same term:<br>
                            - Your monthly payment would decrease by about $25<br>
                            - You'd save approximately $450 in total interest<br><br>
                            Would you like me to connect you with a loan officer to discuss refinancing options?`;
                    }
                    else if (lowerMessage.includes('payoff')) {
                        response = `With your current payment schedule of $${userData.accounts.autoLoan.paymentAmount} per month, your auto loan will be fully paid off after ${userData.accounts.autoLoan.remainingPayments} more payments.<br><br>
                            Your projected payoff date is August 2026.<br><br>
                            If you increased your monthly payment to $475 (an extra $100), you could pay off your loan by April 2026 and save approximately $304 in interest.`;
                    }
                    else {
                        response = `Your auto loan details:<br><br>
                            - Current balance: $${userData.accounts.autoLoan.balance.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
                            - Interest rate: ${userData.accounts.autoLoan.rate}%<br>
                            - Monthly payment: $${userData.accounts.autoLoan.paymentAmount}<br>
                            - Next payment due: ${userData.accounts.autoLoan.nextPaymentDate}<br>
                            - Remaining payments: ${userData.accounts.autoLoan.remainingPayments}<br><br>
                            Would you like to discuss options for paying off your loan sooner or refinancing at a potentially lower rate?`;
                    }
                }
                else {
                    response = `I'm here to help with your financial questions and banking needs. Here are some things I can assist with:<br><br>
                        - Account balances and recent transactions<br>
                        - Information about your credit score<br>
                        - Savings strategies tailored to your spending habits<br>
                        - Details and options for your auto loan<br><br>
                        What would you like help with today?`;
                }
                
                // Add the response to the chat
                addBotMessage(response);
            }, 1500); // 1.5 second delay
        }

        // Function to show typing indicator
        function showTypingIndicator() {
            const indicator = document.createElement('div');
            indicator.className = 'message bot-message';
            indicator.id = 'typing-indicator';
            indicator.innerHTML = 'Typing<span class="dot">.</span><span class="dot">.</span><span class="dot">.</span>';
            
            // Add animation with CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes blink {
                    0%, 100% { opacity: 0.3; }
                    50% { opacity: 1; }
                }
                .dot {
                    animation: blink 1.4s infinite;
                    animation-fill-mode: both;
                }
                .dot:nth-child(2) { animation-delay: 0.2s; }
                .dot:nth-child(3) { animation-delay: 0.4s; }
            `;
            document.head.appendChild(style);
            
            chatMessages.appendChild(indicator);
            scrollToBottom();
        }

        // Function to remove typing indicator
        function removeTypingIndicator() {
            const indicator = document.getElementById('typing-indicator');
            if (indicator) {
                chatMessages.removeChild(indicator);
            }
        }

        // Function to scroll chat to bottom
        function scrollToBottom() {
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
    </script>
</body>
</html>
